<div class="max-w-4xl mx-auto py-8 px-4">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold text-gray-800">Publicaciones</h1>
    <%= link_to "New post!", new_post_path, class: "bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow" %>
  </div>

  <%= form_with url: search_posts_path, method: :get, local: true, class: "mb-6 flex gap-2" do %>
    <%= text_field_tag :q, params[:q], placeholder: "Buscar por tÃ­tulo o etiqueta", class: "flex-grow border border-gray-300 rounded p-2 focus:ring focus:ring-blue-200" %>
    <%= submit_tag "Search", class: "bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow" %>
  <% end %>

  <% if @posts.any? %>
    <div class="space-y-4">
      <% @posts.each do |post| %>
      
      <div class="mt-6">
  <%= paginate @posts %>
</div>

        <div class="bg-white p-6 rounded shadow hover:shadow-lg transition">
          <h2 class="text-xl font-semibold text-gray-800 mb-1">
            <%= link_to post.title, post_path(post), class: "hover:underline" %>
          </h2>
          <p class="text-sm text-gray-500 mb-2">Por <%= post.user.email %></p>
          <p class="text-gray-700 mb-4"><%= truncate(post.body, length: 200) %></p>
          <div class="flex flex-wrap gap-2">
            <% post.tags.each do |tag| %>
              <span class="bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs">#<%= tag.name %></span>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="text-center text-gray-500 mt-8">No posts found.</p>
  <% end %>
</div>

